<!doctype html><html lang=en-us dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="snippet #  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  import pandas as pd df.to_pickle('df_data.pkl') pd.read_pickle('df_data.pkl') # 基本操作 ## 既存のカラムを index に設定する。 ## drop=False で既存のインデックスがカラムに退避される。 df = df.set_index(['timestamp'], drop=False) ## index の番号を振りなおす。dropna()した時などに使う。 # drop=True で既存のインデックスを退避せず上書きする(デフォルトでFalse?) df = df.reset_index(drop=True) df.index.name= 'index' ## 既存のインデックスを連番に変更し、既存のインデックスはカラムに退避する df = df.reset_index() df.index.name = 'index' # 統計量を表示する df.describe()   ">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content="pandas">
<meta property="og:description" content="snippet #  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21  import pandas as pd df.to_pickle('df_data.pkl') pd.read_pickle('df_data.pkl') # 基本操作 ## 既存のカラムを index に設定する。 ## drop=False で既存のインデックスがカラムに退避される。 df = df.set_index(['timestamp'], drop=False) ## index の番号を振りなおす。dropna()した時などに使う。 # drop=True で既存のインデックスを退避せず上書きする(デフォルトでFalse?) df = df.reset_index(drop=True) df.index.name= 'index' ## 既存のインデックスを連番に変更し、既存のインデックスはカラムに退避する df = df.reset_index() df.index.name = 'index' # 統計量を表示する df.describe()   ">
<meta property="og:type" content="article">
<meta property="og:url" content="https://dncknc.github.io/docs/data-science/pandas/snippet/"><meta property="article:section" content="docs">
<title>pandas | For myself in two weeks</title>
<link rel=manifest href=/manifest.json>
<link rel=icon href=/favicon.png type=image/x-icon>
<link rel=stylesheet href=/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous>
<script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.3e16927a7757c221a8e9721fae311a6e67962d58cd41e1c2710c60319b44241e.js integrity="sha256-PhaSendXwiGo6XIfrjEabmeWLVjNQeHCcQxgMZtEJB4=" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q5P1KWTV4T"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-Q5P1KWTV4T',{anonymize_ip:!1})}</script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/><span>For myself in two weeks</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li>
<a href=https://dncknc.github.io/docs/python3/>Python3</a>
<ul>
<li>
<a href=https://dncknc.github.io/docs/python3/request/>request</a>
</li>
<li>
<a href=https://dncknc.github.io/docs/python3/snippet/>snippet</a>
</li>
<li>
<a href=https://dncknc.github.io/docs/python3/%E6%99%82%E5%88%BB%E9%96%A2%E9%80%A3/>時刻関連</a>
</li>
</ul>
</li>
<li>
<a href=https://dncknc.github.io/docs/data-science/>Data Science</a>
<ul>
<li>
<a href=https://dncknc.github.io/docs/data-science/pandas/snippet/ class=active>pandas</a>
</li>
<li>
<a href=https://dncknc.github.io/docs/data-science/pip/>pip</a>
</li>
</ul>
</li>
<li>
<a href=https://dncknc.github.io/docs/git/>Git</a>
<ul>
<li>
<a href=https://dncknc.github.io/docs/git/git_ignore/>.gitignore をホワイトリストで運用</a>
</li>
</ul>
</li>
<li>
<a href=https://dncknc.github.io/docs/hugo%E9%96%A2%E9%80%A3/>Hugo関連</a>
<ul>
<li>
<a href=https://dncknc.github.io/docs/hugo%E9%96%A2%E9%80%A3/hugo%E3%81%AE%E8%A8%AD%E5%AE%9A/>Hugoの設定</a>
</li>
<li>
<a href=https://dncknc.github.io/docs/hugo%E9%96%A2%E9%80%A3/%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88/>シンタックスハイライト</a>
</li>
</ul>
</li>
<li>
<a href=https://dncknc.github.io/docs/network/%E9%80%9A%E4%BF%A1%E9%80%9F%E5%BA%A6/>通信速度</a>
</li>
</ul>
<ul>
<li>
<a href=/posts/>
Blog
</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>pandas</strong>
<label for=toc-control>
<img src=/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents></nav>
</aside>
</header>
<article class=markdown><h1 id=snippet>
snippet
<a class=anchor href=#snippet>#</a>
</h1>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>import</span> <span style=color:#a6e22e>pandas</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>pd</span>
<span style=color:#a6e22e>df</span>.<span style=color:#a6e22e>to_pickle</span>(<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>df_data</span>.<span style=color:#a6e22e>pkl</span><span style=color:#960050;background-color:#1e0010>&#39;</span>)
<span style=color:#a6e22e>pd</span>.<span style=color:#a6e22e>read_pickle</span>(<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>df_data</span>.<span style=color:#a6e22e>pkl</span><span style=color:#960050;background-color:#1e0010>&#39;</span>)

<span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>基本操作</span>
<span style=color:#960050;background-color:#1e0010>##</span> <span style=color:#a6e22e>既存のカラムを</span> <span style=color:#a6e22e>index</span> <span style=color:#a6e22e>に設定する</span><span style=color:#960050;background-color:#1e0010>。</span>
<span style=color:#960050;background-color:#1e0010>##</span> <span style=color:#a6e22e>drop</span>=<span style=color:#a6e22e>False</span> <span style=color:#a6e22e>で既存のインデックスがカラムに退避される</span><span style=color:#960050;background-color:#1e0010>。</span>

<span style=color:#a6e22e>df</span> = <span style=color:#a6e22e>df</span>.<span style=color:#a6e22e>set_index</span>([<span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>timestamp</span><span style=color:#960050;background-color:#1e0010>&#39;</span>], <span style=color:#a6e22e>drop</span>=<span style=color:#a6e22e>False</span>)

<span style=color:#960050;background-color:#1e0010>##</span> <span style=color:#a6e22e>index</span> <span style=color:#a6e22e>の番号を振りなおす</span><span style=color:#960050;background-color:#1e0010>。</span><span style=color:#a6e22e>dropna</span>()<span style=color:#a6e22e>した時などに使う</span><span style=color:#960050;background-color:#1e0010>。</span>
<span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>drop</span>=<span style=color:#a6e22e>True</span> <span style=color:#a6e22e>で既存のインデックスを退避せず上書きする</span>(<span style=color:#a6e22e>デフォルトでFalse</span><span style=color:#960050;background-color:#1e0010>?</span>)
<span style=color:#a6e22e>df</span> = <span style=color:#a6e22e>df</span>.<span style=color:#a6e22e>reset_index</span>(<span style=color:#a6e22e>drop</span>=<span style=color:#a6e22e>True</span>) 
<span style=color:#a6e22e>df</span>.<span style=color:#a6e22e>index</span>.<span style=color:#a6e22e>name</span>= <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>index</span><span style=color:#960050;background-color:#1e0010>&#39;</span>

<span style=color:#960050;background-color:#1e0010>##</span> <span style=color:#a6e22e>既存のインデックスを連番に変更し</span><span style=color:#960050;background-color:#1e0010>、</span><span style=color:#a6e22e>既存のインデックスはカラムに退避する</span>
<span style=color:#a6e22e>df</span> = <span style=color:#a6e22e>df</span>.<span style=color:#a6e22e>reset_index</span>()
<span style=color:#a6e22e>df</span>.<span style=color:#a6e22e>index</span>.<span style=color:#a6e22e>name</span> = <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>index</span><span style=color:#960050;background-color:#1e0010>&#39;</span>

<span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>統計量を表示する</span>
<span style=color:#a6e22e>df</span>.<span style=color:#a6e22e>describe</span>()</code></pre></td></tr></table>
</div>
</div>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents></nav>
</div>
</aside>
</main>
</body>
</html>